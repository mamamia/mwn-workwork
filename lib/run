#!/bin/bash

run_workstation() {
  print_status_primary "INFO" "Updating workstation"
  run_ansible_playbook_workstation $1
  print_status_secondary "PASS" "Completed all tasks!"
}

run_init() {
  print_status_primary "INFO" "Running init for ${SITE_FULL_NAME}"
  run_ansible_playbook_init
  docker_compose_common
  run_ansible_playbook_database
  print_status_secondary "PASS" "Completed init tasks! You may run ww start now."
}

run_start() {
  print_status_primary "INFO" "Running start for ${SITE_FULL_NAME}"
  check_sudo
  kill_existing
  docker_compose_common
  docker_compose_site
  grunt_watch
  print_status_secondary "PASS" "Completed all tasks!"
}

run_stop() {
  print_status_primary "INFO" "Stopping ${SITE_FULL_NAME}"
  stop_docker $1
  print_status_secondary "PASS" "Container stopped."
}

run_destroy() {
  print_status_primary "INFO" "Shutting down and removing docker containers"
  check_sudo
  kill_existing
  kill_docker_containers
  print_status_secondary "PASS" "See you Space Cowboy!"
}

run_update() {
  print_status_primary "INFO" "Running update for ${SITE_FULL_NAME}"
  update_git
  print_status_secondary "PASS" "Completed all tasks!"
}
